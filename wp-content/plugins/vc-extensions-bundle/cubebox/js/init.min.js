jQuery(document).ready(function(a){function b(){var a=window.navigator.userAgent,b=a.indexOf("MSIE ");return b>0||navigator.userAgent.match(/Trident.*rv\:11\./)?!0:!1}a(".cq-twoface-box-container").each(function(){function z(){"bottomtop"!=o||"200px"==p||b()||(d.find(x).css({"-webkit-transform":"translateZ("+.5*p+"px)","-moz-transform":"translateZ("+.5*p+"px)","-ms-transform":"translateZ("+.5*p+"px)",transform:"translateZ("+.5*p+"px)"}),d.find(y).css({"-webkit-transform":"rotateX(-90deg) translateZ("+.5*p+"px)","-moz-transform":"rotateX(-90deg) translateZ("+.5*p+"px)","-ms-transform":"rotateX(-90deg) translateZ("+.5*p+"px)",transform:"rotateX(-90deg) translateZ("+.5*p+"px)"})),"bottomtop"==o||b()||(d.find(x).css({"-webkit-transform":"translateZ("+.5*d.find(".cq-twoface-box").width()+"px)","-moz-transform":"translateZ("+.5*d.find(".cq-twoface-box").width()+"px)","-ms-transform":"translateZ("+.5*d.find(".cq-twoface-box").width()+"px)",transform:"translateZ("+.5*d.find(".cq-twoface-box").width()+"px)"}),d.find(y).css({"-webkit-transform":"rotateY(-90deg) translateZ("+(.5*d.find(".cq-twoface-box").width()-1)+"px)","-moz-transform":"rotateY(-90deg) translateZ("+(.5*d.find(".cq-twoface-box").width()-1)+"px)","-ms-transform":"rotateY(-90deg) translateZ("+(.5*d.find(".cq-twoface-box").width()-1)+"px)",transform:"rotateY(-90deg) translateZ("+(.5*d.find(".cq-twoface-box").width()-1)+"px)"}))}function B(){clearTimeout(A),A=setTimeout(function(){C?d.trigger("mouseleave"):d.trigger("mouseover")},1e3*u)}var f,d=a(this),e=a(this).find(".cq-twoface-box"),g=a(this).data("frontbg");a(this).data("frontavatar");var i=a(this).data("frontfullimage");a(this).data("backavatar");var k=a(this).data("backfullimage"),l=a(this).data("backbg"),m=a(this).data("iconcolor"),n=a(this).data("contentcolor")||a(this).data("fontcolor"),o=a(this).data("cubedirection"),p=a(this).data("cubeheight")||"200px",q=parseInt(a(this).data("avatarsize")||"80",10),r=a(this).data("contentsize"),s=a(this).data("titlesize"),t=a(this).data("contentwidth"),u=parseInt(a(this).data("rotatecube")),v=a(this).data("cubewidth"),w=a(this).data("cubemargin");d.css({margin:w});var x="."+a(this).data("face1"),y="."+a(this).data("face2");a(this).find(x).css("background-color",g),a(this).find(y).css("background-color",l),e.css({width:v,height:p}),""!=r&&d.find(".cq-face-item").css("font-size",r),""!=s&&d.find(".cq-face-title").css("font-size",s),d.find(".cq-face-avatar").css({color:m,width:q,height:q,"font-size":q,"line-height":q+"px"}),""!=i&&d.find(".cq-face-item").each(function(b){0==b&&a(this).css({background:"url("+i+") no-repeat","background-size":"cover"})}),""!=k&&d.find(".cq-face-item").each(function(b){1==b&&a(this).css({background:"url("+k+") no-repeat","background-size":"cover"})}),b()&&d.find(y).css({"-ms-transform":"rotateY(0deg) translateZ(0)",transform:"rotateY(0deg) translateZ(0)"}),a(window).on("resize",function(){"bottomtop"!=o&&z()}),z();var A=0;u>0&&B(),a(this).find(".cq-face-content").css({color:n,width:t}),a(this).find(".cq-face-content .cq-face-title").css("color",n);var C=!1;a(this).on("mouseover",function(){C=!0,clearTimeout(A),b()?"bottomtop"==o?e.removeClass("showfront_ie").addClass("showback_ie"):e.removeClass("showleft_ie").addClass("showright_ie"):"bottomtop"==o?e.removeClass("showfront").addClass("showback"):e.removeClass("showleft").addClass("showright"),e.one("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){u>0&&B()})}).on("mouseleave",function(){clearTimeout(f),clearTimeout(A),C=!1,f=setTimeout(function(){b()?"bottomtop"==o?e.removeClass("showback_ie").addClass("showfront_ie"):e.removeClass("showright_ie").addClass("showleft_ie"):"bottomtop"==o?e.removeClass("showback").addClass("showfront"):e.removeClass("showright").addClass("showleft"),e.one("animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",function(){u>0&&B()})},300)})})});